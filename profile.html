<!DOCTYPE html>
<html>
<head>
  <title>TravelLife Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#6c63ff">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

</head>
<body>

<div class="phone-app">

  <!-- TOP BAR -->
  <div class="header-bar">
    <label class="avatar">
      <img id="profilePic" class="header-avatar" src="https://via.placeholder.com/45">
      <input type="file" id="picInput" accept="image/*" hidden>
    </label>
    <span id="username" class="header-username">Username</span>
  </div>

  <!-- CONTENT -->
  <div class="content-area" id="content">
    <h2>Welcome ðŸ‘‹</h2>
    <p>Select a feature below.</p>
  </div>

  <!-- BOTTOM NAV -->
  <div class="nav-bar">
    <button onclick="openCustomize()">ðŸŽ¨</button>
    <button onclick="showContent('albums')">ðŸ“¸</button>
    <button onclick="showContent('checklist')">ðŸ“‹</button>
    <button onclick="showContent('budget')">ðŸ’°</button>
  </div>

</div>

<!-- CUSTOMIZE POPUP -->
<div class="modal" id="customizeModal">
  <div class="modal-box">
    <h3>Customize App</h3>

    <label>Background Color</label>
    <input type="color" id="bgColor">

    <label>Font</label>
    <select id="fontStyle">
      <option value="Arial">Arial</option>
      <option value="Verdana">Verdana</option>
      <option value="Georgia">Georgia</option>
      <option value="Courier New">Courier New</option>
    </select>

    <button class="btn" onclick="saveTheme()">Save</button>
    <button class="btn close" onclick="closeCustomize()">Close</button>
  </div>
</div>

<script>
/* ---------- USER ---------- */
const user = JSON.parse(localStorage.getItem("user")) || { name: "User" };
document.getElementById("username").textContent = user.name;

/* ---------- PROFILE PIC ---------- */
const picInput = document.getElementById("picInput");
const profilePic = document.getElementById("profilePic");

picInput.onchange = () => {
  const reader = new FileReader();
  reader.onload = () => {
    profilePic.src = reader.result;
    localStorage.setItem("profilePic", reader.result);
  };
  reader.readAsDataURL(picInput.files[0]);
};

const savedPic = localStorage.getItem("profilePic");
if (savedPic) profilePic.src = savedPic;

/* ---------- CONTENT ---------- */
function showContent(type) {
  const content = document.getElementById("content");

  if (type === "albums") {
    content.innerHTML = "<h2>ðŸ“¸ Albums</h2><p>Your travel memories.</p>";
  }
  if (type === "checklist") {
    content.innerHTML = "<h2>ðŸ“‹ Checklist</h2><p>Your saved checklist.</p>";
  }
  if (type === "budget") {
    content.innerHTML = "<h2>ðŸ’° Budget</h2><p>Your trip expenses.</p>";
  }
}

/* ---------- CUSTOMIZE MODAL ---------- */
function openCustomize() {
  document.getElementById("customizeModal").style.display = "flex";
}

function closeCustomize() {
  document.getElementById("customizeModal").style.display = "none";
}

/* ---------- THEME ---------- */
function saveTheme() {
  const theme = {
    bg: bgColor.value,
    font: fontStyle.value
  };
  localStorage.setItem("theme", JSON.stringify(theme));
  applyTheme();
  closeCustomize();
}

function applyTheme() {
  const t = JSON.parse(localStorage.getItem("theme"));
  if (!t) return;
  document.querySelector(".phone-app").style.background = t.bg;
  document.body.style.fontFamily = t.font;
}

applyTheme();
</script>

</body>
</html>
